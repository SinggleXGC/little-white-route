# 消息总线bus简介

## 什么是SpringCloud Bus

SpringCloud Bus结合SpringCloud Config可以实现配置的动态更新。

SpringCloud Bus是用来将分布式系统的节点与轻量级消息系统链接起来的框架，**它整合了Java的事件处理机制和消息中间件的功能。**

Bus只支持两种消息代理：RabbitMQ和Kafka



## 为什么叫bus

在微服务架构的应用中，通常会用**轻量级的消息代理**来构建一个**共用的消息主题**，并让系统的所有微服务实例连接上来。由于该主题中产生的消息会被所有实例监听和消费，所以称它为消息总线。在总线上的各个实例，都可以方便的广播一些需要让其他连接在该主题上的实例都知道的消息。



## 基本原理

ConfigClient实例都监听MQ的同一个主题(通常是SpringCloudBus)。当一个服务刷新数据的时候，会把消息放进Topic中，这样其他监听这个主题的服务就能够得到通知，从而更新自己的配置。

