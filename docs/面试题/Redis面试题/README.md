# Redis面试题

## Q1 Redis持久化有几种，有什么区别

Redis持久化有RBD(Redis Database)和AOF(Append Of File)两种。

RDB是在指定的时间间隔内将内存中的数据集快照写入磁盘中。节省磁盘空间，恢复速度快。但Redis意外关闭的时候，就会丢失最后一次备份后的数据。

AOF是将日志的形式将写操作记录到磁盘上。占用磁盘空间大，恢复速度慢比RDB慢。 不会发生最后一次备份后的数据丢失的情况。

从备份执行方式来看：

RBD：Redis会单独fork一个子线程来完成持久化。先将数据写入一个临时文件，写入完成后，就把这个临时文件替换上一次备份的文件。

AOF：将Redis执行过的写指令以日志的方式记录下来。恢复的时候，执行文件里记录的操作。